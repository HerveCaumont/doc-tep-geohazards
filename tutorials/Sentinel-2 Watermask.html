
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Sentinel-2 Watermask &#8212; Geohazards Thematic Exploitation Platform 3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.4/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.3.4/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="stylesheet" href="../_static/terradue.css" type="text/css" />
    <script src="../_static/affixTrick.js"></script>
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">


  </head>
  <body role="document">

<!-- <header>
	<div class="container">
		<a href="http://www.terradue.com" target="_blank"><img id="logo" src="../_static/t2Logo.png"></a>
		<div id="t2-random-slogan">digital earth scalers</div>
	</div>
</header> -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top"><!-- navbar-fixed-top-->
    <div class="container">
      <div class="navbar-header pull-right">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.terradue.com" target="_blank"><img id="logo" src="../_static/t2Logo.png"></a>
        <!--<a class="navbar-brand" href="../index.html"><img class="navbar-brand-logo" src="../_static/logo-geohazard.png" alt="sandbox-logo"/></a>-->
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
	    <a class="navbar-brand" href="https://geohazards-tep.eu" target="_blank"><img id="logo" src="../_static/logo-geohazard.png"></a>
            <li class="divider-vertical"></li>
<!--             <li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <b>3.0</b><b class="caret"></b>
    </a>
    <ul class="dropdown-menu globaltoc">
        <li><a href="/devel">1.2 (Devel)</a></li>
        <li><a href="/stable">1.1 (Stable)</a></li>
    </ul>
</li> -->

            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community-guide/index.html">Community Portal User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Community Advanced User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Community Portal Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud-administrator/index.html">Cloud Operations Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/index.html">Thematic Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Processing tutorials</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Sentinel-2 Watermask</a><ul>
<li><a class="reference internal" href="#select-the-processing">Select the processing</a></li>
<li><a class="reference internal" href="#fill-the-parameters">Fill the parameters</a><ul>
<li><a class="reference internal" href="#reference-input">Reference input</a></li>
<li><a class="reference internal" href="#area-of-interest-in-wkt">Area Of Interest in WKT</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-the-job">Run the job</a></li>
<li><a class="reference internal" href="#results-download-and-visualization">Results: download and visualization</a></li>
<li><a class="reference internal" href="#further-reading">Further reading</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li><div id="sourcelink">
  <a href="https://github.com/Terradue/doc-tep-geohazards/blob/develop/source/tutorials/Sentinel-2 Watermask.rst" rel="nofollow" target="_blank"><span class='githubLogo'></span>Source</a>
</div></li>
            
          </ul>
        </div>
    </div>
</div>
<div id="navbarSpacer"></div>

<div class="container">
  <div class="row">
<!--<div class="alert alert-danger alert-error alert-dismissable" style="margin-left: 15px; margin-right: 15px;">
	<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    <p class="first admonition-title">
        Warning
    </p>
    <p class="last">
        This guide is under development. The material on this page needs to be reviewed for completeness and accuracy. This guide may have not been updated yet from the last release.
    </p>
</div>-->

      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenavNew" role="complementary"><ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community-guide/index.html">Community Portal User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/index.html">Community Advanced User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">Community Portal Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud-administrator/index.html">Cloud Operations Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apps/index.html">Thematic Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Processing tutorials</a></li>
</ul>
<div id="sourcelink">
  <a href="https://github.com/Terradue/doc-tep-geohazards/blob/develop/source/tutorials/Sentinel-2 Watermask.rst" rel="nofollow" target="_blank"><span class='githubLogo'></span>Source</a>
</div>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>

    <div class="col-md-9">
      
  <div class="section" id="sentinel-2-watermask">
<h1>Sentinel-2 Watermask<a class="headerlink" href="#sentinel-2-watermask" title="Permalink to this headline">¶</a></h1>
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-icon.png"><img alt="../_images/Sentinel-2-Water-Mask-icon.png" src="../_images/Sentinel-2-Water-Mask-icon.png" style="width: 200px;" /></a>
<p><strong>Sentinel-2 Watermask</strong></p>
<p>This service takes as input a Sentinel-2 MSI Level 1C or Level 2A product to generate a water mask using the NDWI the SWM.
The output of the service is a EO data product in GeoTIFF format. The output GeoTiff is displayed in the geobrowser with the possibility to access product metadata.</p>
<dl class="docutils">
<dt><strong>Relevance to the Charter Processing Environment</strong>:</dt>
<dd><ul class="first last simple">
<li>Wildfire: to mask out the water content of vegetation as it may impact the burned area delineation product</li>
<li>Flood: to mask out the water “normally” found in the flooded areas.</li>
</ul>
</dd>
</dl>
<hr class="docutils" />
<p>The NDWI is most appropriate for water body mapping. The water body has strong absorbability and low radiation in the range from visible to infrared wavelengths.
The index uses the green and Near Infra-red bands of remote sensing images based on this phenomenon. The NDWI can enhance the water information effectively in most cases. It is sensitive to built-up land and often results in over-estimated water bodies.</p>
<p><strong>Values description</strong>: NDWI values of water bodies are larger than 0.5. Vegetation has much smaller values, which result in distinguishing vegetation from water bodies easier. Built-up features have positive values between zero and 0.2.</p>
<hr class="docutils" />
<p><strong>Output specifications</strong></p>
<p>The service provides 2 output products.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Output-1 – Water mask</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Correspondent file</td>
<td>Water mask using the NDWI the SWM</td>
</tr>
<tr class="row-odd"><td>Information types</td>
<td>Water mask : BLACK=Earth, WHITE=Water</td>
</tr>
<tr class="row-even"><td>Raster format</td>
<td>GeoTIFF</td>
</tr>
<tr class="row-odd"><td>resolution</td>
<td>Native</td>
</tr>
<tr class="row-even"><td>Projection types</td>
<td>EPSG:3857 - WGS84 – Pseudo Mercator</td>
</tr>
<tr class="row-odd"><td>Browse product available</td>
<td>YES as 8 bit PNG file</td>
</tr>
<tr class="row-even"><td>Output Filename example</td>
<td>Water mask for S2B_MSIL2A_20200709T100029_N0214_R122_T33TUF_20200709T133643</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="2">Output-2 – WATER_MASK_VECTOR</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Correspondent file</td>
<td>Water mask vector</td>
</tr>
<tr class="row-odd"><td>Raster format</td>
<td>geojson</td>
</tr>
<tr class="row-even"><td>Output Filename example</td>
<td>S2B_MSIL2A_20200709T100029_N0214_R122_T33TUF_20200709T133643_WATER_MASK_VECTOR.geojson</td>
</tr>
</tbody>
</table>
<div class="section" id="select-the-processing">
<h2>Select the processing<a class="headerlink" href="#select-the-processing" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Login to the platform (see <a class="reference internal" href="../community-guide/user.html"><span class="doc">user</span></a> section)</li>
<li>Go to the Geobrowser, expand the panel “Processing services” on the right hand side and select the processing service “Sentinel-2 Water Mask”:</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask.png"><img alt="../_images/Sentinel-2-Water-Mask.png" src="../_images/Sentinel-2-Water-Mask.png" style="width: 750px;" /></a>
</div>
<p>This will display the &#8220;Sentinel-2 Water Mask&#8221; service panel including several pre-defined parameters values to be filled-in.</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-1.png"><img alt="../_images/Sentinel-2-Water-Mask-1.png" src="../_images/Sentinel-2-Water-Mask-1.png" style="width: 750px;" /></a>
</div>
</div>
<div class="section" id="fill-the-parameters">
<h2>Fill the parameters<a class="headerlink" href="#fill-the-parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reference-input">
<h3>Reference input<a class="headerlink" href="#reference-input" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Select the Sentinel-2 data collection in the EO Data button.</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-2.png"><img alt="../_images/Sentinel-2-Water-Mask-2.png" src="../_images/Sentinel-2-Water-Mask-2.png" style="width: 750px;" /></a>
</div>
<ul class="simple">
<li>Select the area for which you want to do an analysis, e.g over Terracina (Italy).</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-3.png"><img alt="../_images/Sentinel-2-Water-Mask-3.png" src="../_images/Sentinel-2-Water-Mask-3.png" style="width: 750px;" /></a>
</div>
<ul class="simple">
<li>Click on the lens icon to open the Search Panel</li>
<li>Select <strong>S2MSI1C</strong> or <strong>S2MSI2A</strong> as Product Type</li>
<li>Apply the date value, for example <strong>2020-07-09</strong>, in both <strong>time:start</strong> and <strong>time:end</strong> fields.</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-4.png"><img alt="../_images/Sentinel-2-Water-Mask-4.png" src="../_images/Sentinel-2-Water-Mask-4.png" style="width: 250px;" /></a>
</div>
<ul class="simple">
<li>Drag and Drop the selected item in the <em>Sentinel-2 product for water masking</em> field:</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-5.png"><img alt="../_images/Sentinel-2-Water-Mask-5.png" src="../_images/Sentinel-2-Water-Mask-5.png" style="width: 750px;" /></a>
</div>
</div>
<div class="section" id="area-of-interest-in-wkt">
<h3>Area Of Interest in WKT<a class="headerlink" href="#area-of-interest-in-wkt" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Click on the <em>Magic tool wizard</em> and select <strong>AOI</strong>. The input parameter is automatically filled with the WKT representing the area selected.</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-6.png"><img alt="../_images/Sentinel-2-Water-Mask-6.png" src="../_images/Sentinel-2-Water-Mask-6.png" style="width: 350px;" /></a>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">you can also specify manually a different AOI in WKT format, or draw a new area on the map using the search tool and get its value from the <em>Magic tool wizard</em>.</p>
</div>
</div>
</div>
<div class="section" id="run-the-job">
<h2>Run the job<a class="headerlink" href="#run-the-job" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Click on the button Run Job and see the Running Job</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-7.png"><img alt="../_images/Sentinel-2-Water-Mask-7.png" src="../_images/Sentinel-2-Water-Mask-7.png" style="width: 350px;" /></a>
</div>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-8.png"><img alt="../_images/Sentinel-2-Water-Mask-8.png" src="../_images/Sentinel-2-Water-Mask-8.png" style="width: 350px;" /></a>
</div>
<ul class="simple">
<li>After about 20 minutes, see the Successful Job:</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-9.png"><img alt="../_images/Sentinel-2-Water-Mask-9.png" src="../_images/Sentinel-2-Water-Mask-9.png" style="width: 350px;" /></a>
</div>
</div>
<div class="section" id="results-download-and-visualization">
<h2>Results: download and visualization<a class="headerlink" href="#results-download-and-visualization" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Click on the button <em>Show results</em></li>
<li>See the result on map:</li>
</ul>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/Sentinel-2-Water-Mask-10.png"><img alt="../_images/Sentinel-2-Water-Mask-10.png" src="../_images/Sentinel-2-Water-Mask-10.png" style="width: 750px;" /></a>
</div>
<ul>
<li><p class="first">The following files are produced:</p>
<blockquote>
<div><ul class="simple">
<li><strong>Water mask for S2B_MSIL2A_20200709T100029_N0214_R122_T33TUF_20200709T133643 - GeoTIFF</strong></li>
<li><strong>S2B_MSIL2A_20200709T100029_N0214_R122_T33TUF_20200709T133643_WATER_MASK_VECTOR.geojson - geojson</strong></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="further-reading">
<h2>Further reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>NDWI Normalized Difference Water Index - <a class="reference external" href="https://custom-scripts.sentinel-hub.com/sentinel-2/ndwi/">link</a>. <a class="reference external" href="http://eoscience.esa.int/landtraining2017/files/posters/MILCZAREK.pdf">link</a>. <a class="reference external" href="https://www.sciencedirect.com/science/article/abs/pii/S0034425796000673?via%3Dihub">link</a>. <a class="reference external" href="https://en.wikipedia.org/wiki/Normalized_difference_water_index">link</a>.</li>
</ul>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
	<div class="container">
		&nbsp;&nbsp;&nbsp;Copyright 2006-2020 &copy; Terradue. All Rights Reserved. Please send comments to <a href="mailto:info [at] terradue [dot] com">info</a>. <p class="pull-right">This site is hosted by <a href="http://www.terradue.com">Terradue</a>.</p>
	</div>
</footer>

  </body>
</html>